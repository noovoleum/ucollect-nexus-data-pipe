{
  "pipeline": {
    "name": "mongodb-to-postgresql-with-initial-sync",
    "sync": {
      "initial_sync": true,
      "force_initial_sync": false,
      "timestamp_field": "updated_at",
      "batch_size": 1000
    }
  },
  "source": {
    "type": "mongodb",
    "settings": {
      "uri": "mongodb://localhost:27017",
      "database": "mydb",
      "collection": "users"
    }
  },
  "sink": {
    "type": "postgresql",
    "settings": {
      "connection_string": "host=localhost port=5432 user=postgres ****** dbname=mydb sslmode=disable",
      "table": "users"
    }
  },
  "transformer": {
    "type": "fieldmapper",
    "settings": {
      "mappings": [
        {
          "source": "firstName",
          "destination": "first_name"
        },
        {
          "source": "lastName",
          "destination": "last_name"
        },
        {
          "source": "email",
          "destination": "email",
          "format": "lowercase"
        },
        {
          "source": "updated_at",
          "destination": "updated_at"
        }
      ],
      "include_all": false,
      "strict_mode": false
    }
  }
}
